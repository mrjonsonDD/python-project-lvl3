define(["OK/utils/vanilla"],(function(a){"use strict";function t(t){"object"==typeof t&&(t=t.url+"?"+a.stringifyParams(t.data)),navigateOnUrlFromJS(t)}function o(t){var o;o={url:"/dk",data:{cmd:"PopLayer","st.layer.cmd":"PopLayerMessageAttachPhotoPicker","st.layer.objectId":t.objectId,"st.layer.maxCount":t.maxCount||-1,"st.cmd":"userMain"}},a.ajax(o).then((function(t){a.updateBlockModelCallback(t)}))}return{on:function(a){switch(a.name){case"open-photo-layer":!function(a){t({url:"/dk",data:a.photoId&&a.albumId?{cmd:"PopLayerPhoto","st.layer.cmd":"PopLayerPhoto","st.layer.type":a.isGroup?"GROUP":"FRIEND","st.layer.revNav":"off","st.layer.limitedUi":"false","st.layer.closeLayers":"off","st.layer.showNav":"on","st.layer.photoId":a.photoId,"st.layer.navStartPhotoId":a.photoId,"st.layer.sbd":"off","st.cmd":"userMain"}:{cmd:"PopLayerPhoto","st.layer.cmd":"PopLayerPhoto","st.layer.type":"ATTACHMENT","st.layer.revNav":"off","st.layer.limitedUi":"false","st.layer.closeLayers":"off","st.layer.showNav":"on","st.layer.mTTId":a.messageId,"st.layer.mTTChatId":a.chatId,"st.layer.photoId":a.photoId,"st.layer.navStartPhotoId":a.photoId,"st.layer.sbd":"off","st.layer.loadNavAsync":"on","st.cmd":"userMain"}})}(a);break;case"open-conv-icon-layer":!function(a){var o=a.isChat,e={cmd:"PopLayerPhoto","st.layer.cmd":"PopLayerPhoto","st.layer.type":o?"CHAT_ICON":"FRIEND","st.layer.revNav":"off","st.layer.limitedUi":"false","st.layer.closeLayers":"off","st.layer.showNav":"on","st.layer.photoId":a.photoId,"st.layer.navStartPhotoId":a.photoId,"st.layer.sbd":"off","st.cmd":"userMain"};a.hideChangeChatIconWidget&&(e["st.layer.hci"]="on"),o?e["st.layer.convId"]=a.convId:(e["st.layer.epm"]="off",e["st.layer.opl"]="off"),t({url:"/dk",data:e})}(a);break;case"open-photo-attach-layer":o(a)}}}}));
//# sourceMappingURL=/res/source-maps/js/app/PhotoLayer.js.map