define((function(){var e,t,s,n,i,o=document.getElementById("js-navPrBar");if(o){var a={text:"Сервис временно недоступен",showResend:!1},l=o.getElementsByClassName("navErrorMsg")[0],c=l.getElementsByClassName("navErrorMsgTxt")[0],r=l.getElementsByClassName("resendNavReq")[0],u=o.getElementsByClassName("closeNavPr")[0],m={};l.hasAttribute("data-errors")&&(m=JSON.parse(l.getAttribute("data-errors"))),u.addEventListener("click",(function(){L(!0)})),r.addEventListener("click",(function(){e.resend&&e.resend()}))}function _(t){o.classList.toggle("__collapse",!t),t||(s=setTimeout((function(){o.classList.remove("__notice"),e.resend=null}),200))}function d(e){o.classList.remove("__slim"),o.classList.add("__expand");var t=function(e){var t=m[e];return void 0===t?a:t}(e);c.textContent=t.text,f(t.showResend),v(!0)}function f(e){r.classList.toggle("invisible",!e)}function v(e){u.classList.toggle("invisible",!e),l.classList.toggle("invisible",!e),o.classList.toggle("__notice",e)}function g(){o.classList.add("__slim"),o.classList.remove("__expand"),v(!1),f(!1),c.textContent=""}function L(e){clearTimeout(n),clearTimeout(i),clearTimeout(s),clearTimeout(t),g(),o.classList.add("__no-anim"),e&&_(!1),o.classList.remove("__milestone"),o.classList.remove("__complete")}function T(e){t=setTimeout((function(){clearTimeout(t),d("internet.slow")}),e)}function h(){o.classList.add("__milestone")}function E(e,t){o.classList.contains("__collapse")?n=setTimeout((function(){_(!0),h()}),e):h(),T(t)}return e={resend:null,startTimeout:null,slowTimeout:null,showProgress:function(){o&&(L(!1),o.offsetHeight,o.classList.remove("__no-anim"),E(this.startTimeout,this.slowTimeout))},finishProgress:function(e){o&&(clearTimeout(n),clearTimeout(t),o.classList.add("__complete"),o.classList.remove("__milestone"),i=setTimeout((function(){clearTimeout(i),g(),_(!1)}),e))},showNoInternetError:function(){o&&(L(!1),_(!0),d("internet.no"))},showServiceUnavailable:function(){o&&(L(!1),_(!0),d("service-unavailable"))}}}));
//# sourceMappingURL=/res/source-maps/js/app/NavigationProgressBar.js.map